<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body{
        background-color: rgb(14, 18, 22);
        color: rgb(80, 255, 197);
    }
    #mainBlock{
        display: flex;
        justify-content: space-between;
        min-height: 400px;
        margin-top: 25vh;
    }

    #inputDataDiv{
        display: flex;
        width: 250px;
        margin-left: 10%;
        border: solid;
        min-width: 200px;
        border-radius: 25px;
        justify-content: center;    
        align-items: center;  
        text-align: center;        
    }

    #getDataDiv{
        display: flex;
        width: 250px;
        border-radius: 25px;
        margin-right: 10%;
        border: solid;
        min-width: 200px;
        justify-content: center;        
        align-items:center;
    }
    input{
        border-radius: 6px;
        text-decoration: none;
    }
    label{
        display: flex;
        padding-top: 10px;
        padding-bottom: 5px;
        justify-content: center;
    }
    button{
        margin-top: 4px;
    }
</style>


<body>
    <div id="mainBlock">
        <div id="inputDataDiv">
            <form id="formsForDate">
                <label>Введите имя</label>
                <input id="fierstNameIn" required>
                <br>
                <label>Введите фамилию</label>
                <input id="secondNameIn" required>
                <button type="submit">Подтвердить</button>
            </form>
        </div>
        <div id="getDataDiv">
            data
        </div>
    </div>
</body>


<script>
    document.getElementById("formsForDate").addEventListener("submit", async(e) =>{
        e.preventDefault()

        let fierstNameInput = document.getElementById("fierstNameIn").value
        let secondNameInput = document.getElementById("secondNameIn").value

        try{
            const respons = await fetch("http://localhost:1200/users", {
                method: "POST",
                headers:{
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    name: fierstNameInput,
                    secondName: secondNameInput
                })
            })

            if(respons.ok){
                const data = await respons.json()
                alert(`Данные отправлены: ${JSON.stringify(data)}`)
                document.getElementById("formsForDate").reset() //clear form
            }else{
                alert("Ошибка при отправке данных")
            }

        }catch(err){
            console.log(err.name)
            alert("Произошла ошибка")
        }
    });
</script>

</html>